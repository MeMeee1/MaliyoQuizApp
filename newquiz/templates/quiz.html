{% extends "top.html" %}
{% load static %}

{% block scripts %}
    <script src="{% static 'newtimer.js' %}"></script> 
    <script src="{% static 'test.js' %}" defer ></script> 
    
    
{% endblock scripts %}

{% block title %}
{{obj.name}}

{% endblock title %}

{% block content %}


<hr>
<div></div>
<div class="col text-center" id="timer-box">-:--</div>
<div id="progress-bar" total-questions="{{obj.number_of_questions}}"><div id="fill"></div></div>
    

<form id="quiz-form" class="mt-3 mb-3" pk-id="{{obj.pk}}">
    
    {% csrf_token %}
    
   {% for question in page_obj %}

        <h2 class="card-title">{{question.text}}</h2>
        <p class="card-text">Pick an option:</p>

        <div class="row answers align-items-center">
            {% for answer in question.get_answers %}
                <div class="answer col-sm-3 col-sm-6 form-group"><br>
                    <button
                    type="button"
                    name="{{ obj.value }}"
                    data-pk="{{ obj.pk }}"
                    id="{{ answer.pk }}"
                    class="btn btn-outline-primary btn-lg btn-option btn-block"
                    value="{{ obj.value }}"
                    data-time="{{obj.time}}"
                    data-correct="{{ answer.correct }}"
                >
            {{answer.text}}</button>
                </div>
            {% endfor %}
        </div>
    {% endfor %}
    <div id="result-message"></div>
    <hr>
    <br>
    
</form>

<div id="result-box"></div>
<div class="pagination">
    
    <span class="page-links">
        
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">
                <button type="submit" class="btn btn-primary float-right" id="nextBtn">Next</button>
            </a>
        {% else %}
            <a href="{% url 'newquiz:formthanks' obj.pk%}">
                <button type="submit" class="btn btn-primary float-right" id="nextBtn">Submit</button>
        </a>
       
        {% endif %}
        
            

        
        
    </span>
</div>
<br>
{% endblock content %}

